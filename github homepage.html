
<!-- saved from url=(0167)https://www.cloudhq.net/main_gmail_html?draft_id=r8418766930632574817&extension_id=ioinaaeeacahcmbgfmeaaofhfkijpdeb&email_or_login=emigbutl%40ut.utm.edu&switch_login=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><style id="ace-twilight">.ace-twilight .ace_gutter {background: #232323;color: #E2E2E2}.ace-twilight .ace_print-margin {width: 1px;background: #232323}.ace-twilight {background-color: #141414;color: #F8F8F8}.ace-twilight .ace_cursor {color: #A7A7A7}.ace-twilight .ace_marker-layer .ace_selection {background: rgba(221, 240, 255, 0.20)}.ace-twilight.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px #141414;}.ace-twilight .ace_marker-layer .ace_step {background: rgb(102, 82, 0)}.ace-twilight .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgba(255, 255, 255, 0.25)}.ace-twilight .ace_marker-layer .ace_active-line {background: rgba(255, 255, 255, 0.031)}.ace-twilight .ace_gutter-active-line {background-color: rgba(255, 255, 255, 0.031)}.ace-twilight .ace_marker-layer .ace_selected-word {border: 1px solid rgba(221, 240, 255, 0.20)}.ace-twilight .ace_invisible {color: rgba(255, 255, 255, 0.25)}.ace-twilight .ace_keyword,.ace-twilight .ace_meta {color: #CDA869}.ace-twilight .ace_constant,.ace-twilight .ace_constant.ace_character,.ace-twilight .ace_constant.ace_character.ace_escape,.ace-twilight .ace_constant.ace_other,.ace-twilight .ace_heading,.ace-twilight .ace_markup.ace_heading,.ace-twilight .ace_support.ace_constant {color: #CF6A4C}.ace-twilight .ace_invalid.ace_illegal {color: #F8F8F8;background-color: rgba(86, 45, 86, 0.75)}.ace-twilight .ace_invalid.ace_deprecated {text-decoration: underline;font-style: italic;color: #D2A8A1}.ace-twilight .ace_support {color: #9B859D}.ace-twilight .ace_fold {background-color: #AC885B;border-color: #F8F8F8}.ace-twilight .ace_support.ace_function {color: #DAD085}.ace-twilight .ace_list,.ace-twilight .ace_markup.ace_list,.ace-twilight .ace_storage {color: #F9EE98}.ace-twilight .ace_entity.ace_name.ace_function,.ace-twilight .ace_meta.ace_tag,.ace-twilight .ace_variable {color: #AC885B}.ace-twilight .ace_string {color: #8F9D6A}.ace-twilight .ace_string.ace_regexp {color: #E9C062}.ace-twilight .ace_comment {font-style: italic;color: #5F5A60}.ace-twilight .ace_variable {color: #7587A6}.ace-twilight .ace_xml-pe {color: #494949}.ace-twilight .ace_indent-guide {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAEklEQVQImWMQERFpYLC1tf0PAAgOAnPnhxyiAAAAAElFTkSuQmCC) right repeat-y}
/*# sourceURL=ace/css/ace-twilight */</style><style>    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }</style><style id="ace-tm">.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}
/*# sourceURL=ace/css/ace-tm */</style><style id="ace_editor.css">.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'source-code-pro', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: '';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}
/*# sourceURL=ace/css/ace_editor.css */</style>
  <script src="./github homepage_files/jquery.min.js.download"></script>

  <title>Free Gmail HTML Editor by cloudHQ</title>
  <meta http-equiv="X-XRDS-Location" content="https://www.cloudhq.net/xrds.xml">

<link rel="shortcut icon" href="https://www.cloudhq.net/favicon.ico">

<!-- 
apple-touch-icon-114x114-precomposed.png
apple-touch-icon-114x114.png
apple-touch-icon-precomposed.png
apple-touch-icon.png
http://developer.apple.com/library/ios/#documentation/AppleApplications/Reference/SafariWebContent/ConfiguringWebApplications/ConfiguringWebApplications.html
-->

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@cloudHQ_net">
<meta name="twitter:creator" content="@cloudHQ_net">




  
  <link rel="canonical" href="https://www.cloudhq.net/main_gmail_html">





  <link rel="apple-touch-icon" href="https://www.cloudhq.net/images/cHQ_for_iOS_57x57.png">
  <link rel="apple-touch-icon" sizes="72x72" href="https://www.cloudhq.net/images/cHQ_for_iOS_72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="https://www.cloudhq.net/images/cHQ_for_iOS_114x114.png">
  <link rel="apple-touch-icon" sizes="144x144" href="https://www.cloudhq.net/images/cHQ_for_iOS_144x144.png">

  
    <meta name="keywords" content="No keywords">
    <meta name="title" content="No title">
    
      <meta name="description" content="Sync, integrate and backup Dropbox, Box, Evernote, OneDrive, Google Docs, Gmail, SharePoint, Basecamp, and more">
    

  

  

    
      <meta property="og:description" content="Sync, integrate and backup Dropbox, Box, Evernote, SkyDrive, Google Docs, Gmail, SharePoint, Basecamp, and more">
    
    <meta property="og:type" content="website">
    <meta property="og:title" content="">
    <meta property="og:image" content="https://www.cloudhq.net/images/cloudHQ_Facebook_share.png">
  

  <meta property="twitter:account_id" content="212790740">
  
  
    <link rel="image_src" href="https://www.cloudhq.net/images/facebook_backup_gmail_to_box_or_dropbox_398x208.png">
    <link rel="image_src" href="https://www.cloudhq.net/images/facebook_backup_to_box_398x208.png">
    <link rel="image_src" href="https://www.cloudhq.net/images/facebook_evernote_dropbox_google_drive_398x208.png">
    <link rel="image_src" href="https://www.cloudhq.net/images/dropbox_basecamp_google_docs.png">
    <link rel="image_src" href="https://www.cloudhq.net/images/logo_short.gif">
  
  



<meta name="revisit-after" content="2 days">
<meta http-equiv="X-UA-Compatible" content="chrome=1">
  

<!-- this is title -->
<title>No title set</title>


<meta name="csrf-param" content="authenticity_token">
<meta name="csrf-token" content="s9G6hRgoADCHF157kZxfsS34Wv21BTLjOpuqZUlZu38=">

  
<script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "SoftwareApplication",
  "applicationCategory": "CommunicationApplication",
  "name": "cloudHQ - email productivity solutions, migration and backup",
  "description": "cloudHQ offers email productivity workflow solutions and cloud migration and backup solutions",
  "image": "https://www.cloudhq.net/images/cloudHQ_Facebook_share.png",
  "installUrl": "https://gsuite.google.com/marketplace/app/cloudhq/125135905029",
  "softwareHelp": {
    "@type": "CreativeWork",
    "name": "https://suppport.cloudhq.net"
  },
  "screenshot": "https://www.cloudhq.net/images/cloudHQ_Facebook_share.png",
  "operatingSystem": "all",
  "featureList": "https://www.cloudhq.net/g_suite/solutions",
  "publisher": {
    "@type": "Organization",
    "name": "cloudHQ",
    "legalName": "cloudHQ LLC",
    "numberOfEmployees": "25",
    "telephone": "8888-666-7439",
    "url": "https://cloudhq.net",
    "description": "cloudHQ offers email productivity workflow solutions and cloud migration and backup solutions",
    "knowsAbout": "",
    "logo": {
      "@type": "ImageObject",
      "url": "https://cloudhq.net/images/cHQ.png"
    },
    "image": "https://www.cloudhq.net/images/cloudHQ_Facebook_share.png",
    "sameAs": [
      "https://www.twitter.com/cloudhq_net",
      "https://www.linkedin.com/company/cloudhq",
      "https://www.instagram.com/cloudhq",
      "https://www.facebook.com/cloudHQ",
      "https://www.pinterest.com/cloudhq",
      "https://www.youtube.com/channel/UCWwotcCxSSEJ4eYRD1aWXqw",
      "https://angel.co/company/cloudhq",
      "https://www.producthunt.com/@cloudhq_net",
      "https://www.instagram.com/cloudhq",
      "https://www.crunchbase.com/organization/cloudhq"
    ],
    "founder": {
      "@type": "Person",
      "name": "Senad Dizdar"
    },
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "San Francisco",
      "addressCountry": "CA"
    }
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "4.8",
    "reviewCount": "21",
    "bestRating": "5"
  },
  "video": {
    "@context": "http://schema.org",
    "@type": "VideoObject",
    "name": "What is cloudHQ? Email productivity, at its finest!",
    "uploadDate": "2018-11-08",
    "duration": "T1M34S",
    "description": "cloudHQ covers all of your Gmail productivity needs. With over 70 email apps, and more than 2M users, we've mastered helping you save time by helping you work more efficiently and get more things done in a day than you ever thought you could. ",
    "thumbnailUrl": "https://www.cloudhq.net/images/cloudHQ_Facebook_share.png",
    "embedUrl": "https://www.youtube.com/embed/LUCljsZ8qEM?enablejsapi=1&html5=1&rel=0&list=PLdoCIOqi83ZtV22Eb-vV-EaQZW_DuVzPP&index=5"
  },
  "offers": {
    "@type": "AggregateOffer",
    "offeredBy": {
      "@type": "Organization",
      "name": "cloudHQ",
      "legalName": "cloudHQ LLC",
      "numberOfEmployees": "25",
      "telephone": "8888-666-7439",
      "url": "https://cloudhq.net",
      "description": "cloudHQ offers email productivity workflow solutions and cloud migration and backup solutions",
      "knowsAbout": "",
      "logo": {
        "@type": "ImageObject",
        "url": "https://cloudhq.net/images/cHQ.png"
      },
      "image": "https://www.cloudhq.net/images/cloudHQ_Facebook_share.png",
      "sameAs": [
        "https://www.twitter.com/cloudhq_net",
        "https://www.linkedin.com/company/cloudhq",
        "https://www.instagram.com/cloudhq",
        "https://www.facebook.com/cloudHQ",
        "https://www.pinterest.com/cloudhq",
        "https://www.youtube.com/channel/UCWwotcCxSSEJ4eYRD1aWXqw",
        "https://angel.co/company/cloudhq",
        "https://www.producthunt.com/@cloudhq_net",
        "https://www.instagram.com/cloudhq",
        "https://www.crunchbase.com/organization/cloudhq"
      ],
      "founder": {
        "@type": "Person",
        "name": "Senad Dizdar"
      },
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "San Francisco",
        "addressCountry": "CA"
      }
    },
    "highPrice": "59.99",
    "lowPrice": "4.99",
    "offerCount": 58,
    "priceCurrency": "USD",
    "offers": [
      {
        "@type": "Offer",
        "price": 5.99,
        "priceCurrency": "USD",
        "name": "Auto BCC for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_auto_bcc"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Backup and Archive Emails to Amazon S3",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_amazon_s3"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Chrome Extension Manager",
        "url": "https://www.cloudhq.net/pricing?product_what=extension_manager"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Email List Builder",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_list_builder"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Email Reply Status",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_status"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Email Signature Generator",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_signature"
      },
      {
        "@type": "Offer",
        "price": 7.99,
        "priceCurrency": "USD",
        "name": "Email Tracker",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_mail_tracker"
      },
      {
        "@type": "Offer",
        "price": 44.9,
        "priceCurrency": "USD",
        "name": "Export Emails to Google Sheets, CSV, or Excel",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_sheets"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Formatted Email Subject Lines",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_subject_style"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Free HTML Editor for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_html"
      },
      {
        "@type": "Offer",
        "price": 34.99,
        "priceCurrency": "USD",
        "name": "Get My Receipts",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_receipts"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Gmail Auto Follow Up",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_auto_followup"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Button",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_elements"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Copilot",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_copilot"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Email Links",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_share_email"
      },
      {
        "@type": "Offer",
        "price": 7.99,
        "priceCurrency": "USD",
        "name": "Gmail Email Templates",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_templates"
      },
      {
        "@type": "Offer",
        "price": 19.8,
        "priceCurrency": "USD",
        "name": "Gmail Label and Email Sharing",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_label_sharing"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Mailto",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_mailto"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Message Preview",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_multiline_preview"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Notes",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_notes"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Online Polls & Surveys",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_polls"
      },
      {
        "@type": "Offer",
        "price": 54.99,
        "priceCurrency": "USD",
        "name": "Gmail Phone",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_phone"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Reverse Conversation",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_reverse_conversation"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Gmail SMS Alerts",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_smsnotif"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Screenshot",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_screenshot"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Gmail Send Your Email to SMS (Text)",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_save_to_sms"
      },
      {
        "@type": "Offer",
        "price": 2.99,
        "priceCurrency": "USD",
        "name": "Gmail Snippets",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_snippets"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Tables",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_tables"
      },
      {
        "@type": "Offer",
        "price": 2.99,
        "priceCurrency": "USD",
        "name": "Gmail Tabs",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_tabs"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail Time Tracker",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_time_tracker"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail URL Link Preview",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_url_previews"
      },
      {
        "@type": "Offer",
        "price": 2.99,
        "priceCurrency": "USD",
        "name": "Gmail Web Clipper",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_web_clipper"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail YouTube",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_youtube"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Gmail eCards",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_ecards"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Google Docs to Gmail Drafts",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_gmail"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "MailKing - email campaign manager for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_campaigns"
      },
      {
        "@type": "Offer",
        "price": 6.99,
        "priceCurrency": "USD",
        "name": "Meeting Scheduler for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_calreserve"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Multi Email Forward for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_bulk_forward"
      },
      {
        "@type": "Offer",
        "price": 0.0,
        "priceCurrency": "USD",
        "name": "Pause Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_pause"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Rename Email",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_rename_email"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Resize Gmail Left Panel",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_sidebar_resizer"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Save Emails to Box",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_box"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Save Emails to Dropbox",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_dropbox"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Save Emails to Google Drive",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_googledrive"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Save Emails to OneDrive",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_onedrive"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Save Emails to OneDrive Business",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_office365_onedrive"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Save Emails to OneNote",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_onenote"
      },
      {
        "@type": "Offer",
        "price": 14.99,
        "priceCurrency": "USD",
        "name": "Save Emails to PDF",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_save_to_pdf"
      },
      {
        "@type": "Offer",
        "price": 2.99,
        "priceCurrency": "USD",
        "name": "Save Emails to Salesforce",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_salesforce"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Save Emails to SharePoint",
        "url": "https://www.cloudhq.net/pricing?product_what=save_to_sharepoint"
      },
      {
        "@type": "Offer",
        "price": 9.99,
        "priceCurrency": "USD",
        "name": "Save and Backup My Emails",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_save"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Schedule Email",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_schedule_email"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Screencast for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_screencast"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Share & attach cloud files to Gmail emails",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_cloud_files"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Snooze Email",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_snooze_email"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Sort Gmail Inbox",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_smart_labels"
      },
      {
        "@type": "Offer",
        "price": 9.8,
        "priceCurrency": "USD",
        "name": "Sync Salesforce Contacts to Google Contacts",
        "url": "https://www.cloudhq.net/pricing?product_what=salesforce_contacts_to_google_contacts"
      },
      {
        "@type": "Offer",
        "price": 4.99,
        "priceCurrency": "USD",
        "name": "Video Email for Gmail",
        "url": "https://www.cloudhq.net/pricing?product_what=gmail_video"
      },
      {
        "@type": "Offer",
        "price": 11.88,
        "priceCurrency": "USD",
        "name": "Backup, Migration, and Sync Premium Plan",
        "url": "https://www.cloudhq.net/pricing?product_what="
      },
      {
        "@type": "Offer",
        "price": 30.0,
        "priceCurrency": "USD",
        "name": "Backup, Migration, and Sync Business Plan",
        "url": "https://www.cloudhq.net/pricing?product_what="
      },
      {
        "@type": "Offer",
        "price": 0,
        "priceCurrency": "USD",
        "name": "Backup, Migration, and Sync Free Plan",
        "url": "https://www.cloudhq.net/pricing?product_what="
      }
    ]
  }
}
</script>

  <link href="./github homepage_files/new_packaged.css" media="screen" rel="stylesheet" type="text/css">
  <link href="./github homepage_files/new_home_packaged.css" media="screen" rel="stylesheet" type="text/css">
  
<!-- start Mixpanel -->

<!-- end Mixpanel -->


  <style>
  
      html, body { min-height: auto; height: auto; }
      
      body {
        
      }

      .container {
        border: none; 
        display: none;
        flex-direction: column;
        flex-wrap: nowrap;
        justify-content: flex-start;
        align-items: stretch;
        align-content: stretch;
        height: 100%;
      }

      .tools {
        background-color: #494646; 
        color: #F8F8F8; 
        width: 100%;
        border-bottom: 1px solid black;
      }

      .tools .tools-inner {
         padding: 4px;
      }

      .tools button {
        background: #494646; 
        color: white; 
        border-color: black; 
        font-size: 10px; 
        line-height: 11px
      }

      .tools .btn.pressed {
        background-color: #777474;
      }

      .tools .btn:hover,
      .tools .btn:active {
        color: white;
        background-color: #605E5E;
      }

      .tools .btn-primary:hover,
      .tools .btn-primary:active {
        color: black;
      }

      .tools .btn-group .btn {
        min-width: 100px;
        margin-left: -5px;
      }

      .columns {
        flex: 1 1 auto;
        display: flex;
      }

      .column {
        display: flex;
        flex: 0 0 50%;
        justify-content: flex-start; 
        align-items: stretch;
        align-content: stretch;
      }

      .column > pre {
        flex: 1;
        overflow: auto;
        margin-bottom: 0;
      }

      .column-centered {
        justify-content: center;
      }

      .preview-box {
        width:100%;
        flex: 1;
        overflow: auto;
        margin-bottom: 0;
        position: relative;
      }

      .preview-box .preview-content {
        margin: 20px auto;
        position: absolute;
        width: auto;
        top: 0;
        bottom: 0;
        overflow: hidden;
        -webkit-transition: max-height 0.8s;
        -moz-transition: max-height 0.8s;
        padding: 0;
        transition: max-height 0.8s;
        border: 2px solid #195070;
        border-radius: 6px;
        left: 20px;
        right: 20px;
        background: #E3E8EC;
      }

      .preview-box .preview-content.is-mobile {
        width: 360px;
        padding: 52px 14px 74px;
        border-radius: 25px;
        left: 50%;
        right: 50%;
        margin-left: -200px;
      }

      .preview-box .preview-content > iframe {
        width:100%;
        height: 100%;
        background: white;
      }

      .preview-box .preview-content.is-mobile > iframe {
        border: 1px solid #195070;
        border-radius: 2px;
      }

      .loading {
        margin: 40px;
        background: white;
        font-size: 14px;
        overflow: hidden;
      }

      .mce-tinymce {
        box-shadow: none !important;
        border:none !important;
        border-right: 1px solid #ccc !important;
      }

      .button-flex-container {
        display: flex;
        flex-wrap: nowrap;
      }

      .button-flex-container > div {
        text-overflow: ellipsis;
        text-align: left;
        white-space: nowrap; 
        overflow: hidden;
      }


      /* modal */
      .modal-overlay {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 10000009; /* Sit on top */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        min-height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      }

      .modal {
        border-radius: 3px;
        border: 2px solid #195070;
        border-collapse: collapse;
        background-color: white;
        margin: 10% auto; /* 15% from the top and centered */
        padding: 0;
        min-width: 400px;
        width: 80%; /* Could be more or less, depending on screen size */
      }

      .modal-header {
        background: #195070;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
        color: white;
        line-height: 1.4rem;
        font-weight: bolder;
      }

      .modal-content {
        background: white;
        padding: 1.2rem 1rem;
      }

      .modal-footer {
        border-top: 1px solid #ddd;
        padding: 1rem;
      }

      .modal-close {
        opacity: 0.7;
        color: white;
        float: right;
        font-size: 2rem;
        line-height: 1.2rem;
        font-weight: bold;
      }

      .modal-close:hover,
      .modal-close:focus {
        opacity: 1;
        text-decoration: none;
        cursor: pointer;
      }

  </style>

  <script type="text/javascript">
    document.write('<div class="loading"><span>Loading editor ...</span></div>');
  </script><style>.cloudHQ__control { border: 1px solid #bbb; margin: 0; padding: .3em .4em .3em .4em; line-height: 1.35; border-radius: .2em; outline: none; -webkit-box-sizing: border-box; }.cloudHQ__control:hover { border-color: #888; } .cloudHQ__control:focus { border-color: #aaa; outline: none; box-shadow: 0 0 1px 3px rgba(180,222,250, .7); color: #222; } select.cloudHQ__control { background: #fff linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%); } .cloudHQ__player { padding: 12px; border-radius: 0 .0 .2em .2em; border: 1px solid #999; border-top: none; background: #fff linear-gradient(to bottom, #ffffff 0%,#e5e5e5 100%);  }</style><style>div.video-browser { margin: 0 auto; overflow: auto; }div.video-browser ul { list-style-type: none; margin: 0; padding: 0 }div.video-browser li { float: left; margin: 10px; }div.video-browser li a { text-decoration: none; display: block; font-size: 12px; cursor: default; }div.video-browser li div.video-title { display: block; color: #111; text-align: center; overflow: hidden; height: 34px; }div.video-browser li img { border: 5px solid #f9f9f9; -webkit-transition: box-shadow 0.5s ease; transition: box-shadow 0.5s ease; }div.video-browser li a:hover {}div.video-browser li a:hover img { -webkit-box-shadow: 0px 0px 7px rgba(150,150,150,0.9); box-shadow: 0px 0px 7px rgba(150,150,150,0.9); }div.video-browser li a div.video-btn-list { display: none; background: rgba(255 ,255, 255, 0.9); border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; position: absolute; left: 0; top: 50%; margin-top: -22px; padding: 4px; height: 32px; right: 0; text-align: center} div.video-browser li a:hover div.video-btn-list { display: block; } div.video-browser li div.video-btn-list .video-btn { background-size: 80%; background-position: center center; display: inline-block; cursor: pointer; margin: 1px 3px; width: 30px; height: 29px; border-radius: 2px; border: 1px solid #ddd; background-color: white } div.video-dialog { margin-top: 0px } div.video-browser li div.video-btn-list .video-btn:hover { border-color: #999 } div.video-dialog-tabs { display: block;  } div.div_for_show_video_dialog { margin-top: -30px } div.video-dialog-tabs > a.video-dialog-tab { font-size: 11px; cursor: pointer; padding: 8px 14px; display: inline-block; text-decoration: none; font-weight: bolder;  }div.video-dialog-tabs > a.video-dialog-tab:hover { background-color: #d9d9d9 }div.video-dialog-tabs > a.video-dialog-tab.active { background-color: #f6f6f6; border: 1px solid #ddd; border-bottom: none }div.video-dialog-tab-content { overflow:hidden; min-height:500px; min-width: 450px; border: 1px solid #ddd; padding: 8px; background: #f6f6f6; margin-top: -1px; margin-bottom: -10px; padding-bottom: 0px } </style><script src="./github homepage_files/theme-twilight.js.download"></script></head><body>
  <script src="./github homepage_files/ace.js.download"></script>
  <script src="./github homepage_files/tidy.js.download"></script>
  <script src="./github homepage_files/tinymce.min.js.download"></script>
  <script src="./github homepage_files/mode-html.js.download" type="text/javascript" charset="utf-8"></script>
  <script src="./github homepage_files/common.js.download" type="text/javascript"></script>
  <script src="./github homepage_files/plugin.js.download" type="text/javascript"></script>
  <script src="./github homepage_files/plugin.js(1).download" type="text/javascript"></script>
  <script src="./github homepage_files/plugin.js(2).download" type="text/javascript"></script>

  <script src="./github homepage_files/automation_editor.js.download" type="text/javascript"></script>
  <script src="./github homepage_files/plugin.js(3).download" type="text/javascript"></script>
  
    <script src="./github homepage_files/video_manager_packaged.js.download" type="text/javascript"></script>
  

<div class="container" style="display: flex;">
  <div class="tools">
    <div class="tools-inner button-flex-container">
      <div>
        
          <button id="btn_edit_end" class="btn btn-primary">Close Editor</button>
        
      </div>
      <div style="margin:0px 10px;text-align:center;width:85%;line-height:25px;">
        
      </div>
    </div>
  </div>
  <div class="tools">
    <div class="tools-inner columns">
      <div class="column column-centered" style="border-right: 1px solid black">
        <div class="btn-group">
          <button id="btn_html_source" class="btn pressed">Source</button>
          <button id="btn_html_design" class="btn">Design</button>
        </div>
      </div>
      <div class="column column-centered">
        <div class="btn-group">
          <button id="btn_preview_desktop" class="btn pressed">Desktop</button>
          <button id="btn_preview_mobile" class="btn">Mobile</button>
        </div>
      </div>
    </div>
  </div>
  <div class="columns">
    <div class="column">
      <pre id="email_in_raw_html" class=" ace_editor ace-twilight ace_dark" draggable="false"><textarea class="ace_text-input" wrap="off" autocorrect="off" autocapitalize="off" spellcheck="false" style="opacity: 0; font-size: 1px; height: 1px; width: 1px; top: 14px; left: 149px;"></textarea><div class="ace_gutter" aria-hidden="true" style="left: 0px; width: 40px;"><div class="ace_layer ace_gutter-layer ace_folding-enabled" style="height: 1e+06px; top: 0px; left: 0px; width: 40px;"><div class="ace_gutter-cell ace_gutter-active-line  ace_info" style="height: 14px; top: 0px;">1<span style="display: none; height: 14px;" class="ace_fold-widget ace_start ace_open"></span></div><div class="ace_gutter-cell " style="height: 14px; top: 14px;">2<span style="display: none; height: 14px;" class="ace_fold-widget ace_start ace_open"></span></div></div></div><div class="ace_scroller" style="line-height: 14px; left: 39.5976px; right: 0px; bottom: 0px;"><div class="ace_content" style="top: 0px; left: 0px; width: 634.402px; height: 597px;"><div class="ace_layer ace_print-margin-layer"><div class="ace_print-margin" style="left: 532px; visibility: visible;"></div></div><div class="ace_layer ace_marker-layer"><div class="ace_active-line" style="height: 14px; top: 0px; left: 0px; right: 0px;"></div></div><div class="ace_layer ace_text-layer" style="height: 1e+06px; margin: 0px 4px; top: 0px; left: 0px;"><div class="ace_line_group" style="height: 14px; top: 0px;"><div class="ace_line" style="height: 14px;"><span class="ace_meta ace_tag ace_punctuation ace_tag-open ace_xml">&lt;</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h1</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span><span class="ace_text ace_xml">emily butler</span><span class="ace_meta ace_tag ace_punctuation ace_end-tag-open ace_xml">&lt;/</span><span class="ace_meta ace_tag ace_tag-name ace_xml">h1</span><span class="ace_meta ace_tag ace_punctuation ace_tag-close ace_xml">&gt;</span></div></div><div class="ace_line_group" style="height: 14px; top: 14px;"><div class="ace_line" style="height: 14px;"></div></div></div><div class="ace_layer ace_marker-layer"></div><div class="ace_layer ace_cursor-layer ace_hidden-cursors"><div class="ace_cursor" style="display: block; top: 0px; left: 110px; width: 7px; height: 14px; animation-duration: 1000ms;"></div></div></div></div><div class="ace_scrollbar ace_scrollbar-v" style="display: none; width: 22px; bottom: 0px;"><div class="ace_scrollbar-inner" style="width: 22px; height: 28px;">&nbsp;</div></div><div class="ace_scrollbar ace_scrollbar-h" style="display: none; height: 22px; left: 39.5976px; right: 0px;"><div class="ace_scrollbar-inner" style="height: 22px; width: 634.402px;">&nbsp;</div></div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: hidden;"><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font: inherit; overflow: visible;">הההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההההה</div><div style="height: auto; width: auto; top: 0px; left: 0px; visibility: hidden; position: absolute; white-space: pre; font-style: inherit; font-variant: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; overflow: visible;">XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</div></div></pre>
      <div id="email_in_design_html" style="display: none;width:100%">
        <div id="email_draft_html"></div>
      </div>
    </div>
    <div class="column">
      <div class="preview-box">
          <div class="preview-content" id="preview_email">
            <iframe style="width: 100%;" allowtransparency="true" background="transparent" border="0" src="./github homepage_files/saved_resource.html"></iframe>
          </div>
        </div>
    </div>
  </div>
</div>
<canvas id="canvas_for_thumbnail" style="margin-top: -20000px; position: absolute"></canvas>
<canvas id="canvas_for_thumbnail_with_play" style="margin-top: -20000px; position: absolute"></canvas>
<div id="test"></div>
<script type="text/javascript">
  
  var background_port; 

  function getUrlParameter(sParam) {
    var sPageURL = decodeURIComponent(window.location.search.substring(1)),
      sURLVariables = sPageURL.split('&'),
      sParameterName,
      i;

    for (i = 0; i < sURLVariables.length; i++) {
      sParameterName = sURLVariables[i].split('=');

      if (sParameterName[0] === sParam) {
        return sParameterName[1] === undefined ? true : sParameterName[1];
      }
    }
  }

  function fn_edit_save() {
    email_draft_html = getHTMLSource();
    if (hidden_backup_css && hidden_backup_css.trim() != '') {
      var encoded_css = document.createElement('div').appendChild(document.createTextNode(hidden_backup_css)).parentNode.innerHTML;
      var input_elem = document.createElement('input');
      input_elem.setAttribute("name", "cloudHQ__backup_css");
      input_elem.setAttribute("type", "hidden");
      input_elem.setAttribute("value", encoded_css);
      email_draft_html = input_elem.outerHTML + email_draft_html;      
    }

    if (draft_id) {
      background_port.postMessage({action: "edit_save", email_draft_html: email_draft_html, draft_id: draft_id  });
    } else {
      window.parent.postMessage({action: "edit_save", email_draft_html: email_draft_html, draft_id: draft_id  }, '*');
    }
  }

  function fn_edit_end(save_confirmed) {

    fn_edit_save();
    if (draft_id) {
      background_port.postMessage({action: "edit_end", draft_id: draft_id, save_confirmed: !!save_confirmed });
    } else {
      window.parent.postMessage({action: "edit_end", draft_id: draft_id, save_confirmed: !!save_confirmed }, '*');
    }
    window.close();
  }

  function fn_show_preview(preview) {
    if (preview == 'mobile') {
      $('#btn_preview_desktop').removeClass('pressed');
      $('#btn_preview_mobile').addClass('pressed');
      $('.preview-content').addClass('is-mobile');
    } else {
      $('#btn_preview_desktop').addClass('pressed');
      $('#btn_preview_mobile').removeClass('pressed');
      $('.preview-content').removeClass('is-mobile');
    }
  }

  function fn_show_ace_editor() {
    $('#email_in_design_html').hide();
    $('#email_in_raw_html').show();
    $('#btn_html_source').addClass('pressed');
    $('#btn_html_design').removeClass('pressed');
    var active_mce = tinymce.EditorManager.activeEditor;
    if (active_mce) {
      setHTMLSource(active_mce.getContent());
      active_mce.hide();
    }
    showHTMLInIFrame(0);
  }

  function fn_show_tiny_mce_editor() {
    $('#email_in_design_html').show();
    $('#email_in_raw_html').hide();
    $('#btn_html_source').removeClass('pressed');
    $('#btn_html_design').addClass('pressed');
    fn_create_tiny_mce(function(tiny_editor) {
      var html = getHTMLSource();
      tiny_editor.show();
      tiny_editor.setContent(html, { format: 'raw' });
    });
  }

  try {
    //resizeTo(screen.availWidth, screen.availHeight);
  } catch (e) { }

  function fn_change_callback() {
    fn_edit_save();
  }
  
  // mimic gmail font
  var PREVIEW_HTML_CSS = 'body { font: normal small arial,sans-serif; }';

  var editor = ace.edit("email_in_raw_html");
  editor.setTheme("ace/theme/twilight");
  editor.session.setMode("ace/mode/html");
  editor.session.setOptions({
      tabSize: 2,
      useSoftTabs: true
  });
  editor.getSession().setUseWrapMode(true);
  
  function process(str) {

    var div = document.createElement('div');
    div.innerHTML = str.trim();

    return format(div, 0).innerHTML.replace(/^\s*$(?:\r\n?|\n)/gm, "");
  }
  
  function format(node, level) {

    var indentBefore = new Array(level++ + 1).join('  '),
      indentAfter  = new Array(level - 1).join('  '),
      textNode;

    for (var i = 0; i < node.children.length; i++) {

      textNode = document.createTextNode('\n' + indentBefore);
      node.children[i].innerHTML = node.children[i].innerHTML.trim();
      node.insertBefore(textNode, node.children[i]);

      format(node.children[i], level);

      if (node.lastElementChild == node.children[i]) {
        textNode = document.createTextNode('\n' + indentAfter);
        node.appendChild(textNode);
      }
    }

    return node;
  }

  function setHTMLSource(html) {
    html = process(html);
    editor.setValue(html);
    return;

    try {
      var value = tidy_html5(html, tidy_options);
      editor.setValue(value);
    } catch(e) {
      editor.setValue(html);
    }
  } 

  function getHTMLSource() {
    return editor.getValue();
  }

  function getPreviewHTMLSource() {
    var html = '<!DOCTYPE html>';
    html += '<html>';
    html += '<head>';
    html += '<style type="text/css">' + PREVIEW_HTML_CSS + '</style>';
    html += hidden_backup_css;
    html += '</head><body>';
    html += getHTMLSource();
    html += '</body>';
    html += '</html>';
    return html;
  }

  // or use data: url to handle things like doctype
  var preview_timeout = null;
  
  function showHTMLInIFrame(delay) {
    if (preview_timeout) {
      window.clearTimeout(preview_timeout);
    }
    preview_timeout = window.setTimeout(function() {
      var iframe = $('#preview_email').find('iframe');
      iframe.attr('src', "data:text/html;charset=utf-8," + encodeURIComponent(getPreviewHTMLSource()));
      iframe.show();
    }, delay || 0);
  }

  editor.on("input", function(e) {
    showHTMLInIFrame(500);
    fn_change_callback();
  });

  var tiny_mce_loaded;
  function fn_custom_URL_converter(url, node, on_save, name) {
    // Do some custom URL conversion
    //url = url.substring(3);

    // Return new URL
    return url;
  }

    var mce_editor;
    var presigned_url = null;
    var thumbnail_url = null;
    var video_url     = null;
    var s3_object_key_name_video     = null;
    var email_or_login = getUrlParameter("email_or_login");
    var g_email_or_login = email_or_login;

    function setDialogLoader(state, text) {
      var windows = tinyMCE.activeEditor.windowManager.getWindows();
      if (windows.length == 0) {
        return;
      }
      var dialogElement = $(windows[0].$el);
      var dialogBodyElement = dialogElement.find('.mce-container-body').first();
      if (state === true) {
        var loader = $('<div class="mce-throbber" style=""></div>').css({
          "z-index": 10000,
          "text-align": "center",
          "color": "black",
          "opacity": 0.8
        });
        loader.text(text);
        loader.appendTo(dialogBodyElement);
      } else {
        dialogBodyElement.find('.mce-throbber').remove();
      }
    }

    function fileUploadHandler(blobInfo, success, failure) {

      var isMedia = false;
      if (blobInfo.isMedia && blobInfo.isMedia()) {
        isMedia = blobInfo.isMedia();
      }

      var xhr, formData;
      setDialogLoader(true, 'Uploading file ...');
      xhr = new XMLHttpRequest();
      xhr.withCredentials = false;
      xhr.open('POST', '/main_gmail_auto_followup/upload_attachment');
      xhr.onload = function() {
        var json;
        
        if (xhr.status != 200) {
          failure('HTTP Error: ' + xhr.status);
          setDialogLoader(false);
          return;
        }

        json = JSON.parse(xhr.responseText);

        if (!json || typeof json.location != 'string') {
          failure('Invalid JSON: ' + xhr.responseText);
          setDialogLoader(false);
          return;
        }

        var file_url = json.location;

        if (isMedia) { 
          setDialogLoader(true, 'Uploading file ...');
          video_url = file_url;
          // For media lets upload to our previewer
          var jsonData = JSON.stringify({
            "website_url": video_url
          });

          setDialogLoader(false);
          setDialogLoader(true, 'Converting video ...');

          (function() {
            var xhr = new XMLHttpRequest();
            xhr.open('POST', '/main_gmail_web_clipper/get_iframely_preview', true);
            xhr.setRequestHeader("Content-type", "application/json");
            xhr.responseType = "json";
            xhr.onreadystatechange = function() {
              if(xhr.readyState == XMLHttpRequest.DONE) {
                setDialogLoader(false);
                if (xhr.status == 200) {
                  var iframely_resp = xhr.response;
                  if (iframely_resp['screenshot_href']) {
                    file_url = iframely_resp['screenshot_href'];
                  } else if (iframely_resp['links'] && iframely_resp['links']['thumbnail'] && iframely_resp['links']['thumbnail']['href']) {
                    file_url = iframely_resp['links']['thumbnail']['href'];
                  }
                } else {
                  console.log("iframely:response:error");
                }

                setDialogLoader(false);
                success(file_url);
              }
            };
            xhr.send(jsonData);
          })();
        } else {
          setDialogLoader(false);
          success(file_url);
        }
      };

      var blob = blobInfo.blob();
      if (blob.size <= 0 || blob.size > 10000000) {
        failure('You can only upload files less then 10mb in size.');
        setDialogLoader(false);
        return;
      }
      formData = new FormData();
      formData.append('file', blob, blobInfo.filename());
      xhr.send(formData);
    };

    function fn_create_tiny_mce(callback) {


    function insertMergeTag(editor, tagName) {
      editor.insertContent('<span>' + tagName + '</span>');
    }

    if (!tiny_mce_loaded) {

      // init tinymce editor
      tiny_mce_loaded = true;
      tinymce.init({
        selector: '#email_draft_html',
        inline_styles: true,
        cleanup: false,
        plugins: [
          'advlist autolink lists link image charmap print preview hr anchor pagebreak',
          'searchreplace wordcount visualblocks visualchars fullscreen toc',
          'insertdatetime media nonbreaking save table contextmenu directionality',
          'emoticons paste textcolor colorpicker textpattern imagetools codesample help inline_change_background_color iframely button record_video'
        ],
        /*paste_preprocess: fn_paste_preprocess,*/
        textpattern_patterns: [
           {start: '__', end: '__', format: 'italic'},
           {start: '**', end: '**', format: 'bold'},
           {start: '#', format: 'h1'},
           {start: '##', format: 'h2'},
           {start: '###', format: 'h3'},
           {start: '####', format: 'h4'},
           {start: '#####', format: 'h5'},
           {start: '######', format: 'h6'},
           {start: '1. ', cmd: 'InsertOrderedList'},
           {start: '- ', cmd: 'InsertUnorderedList'}
        ],
        removed_menuitems: 'preview, print, newdocument, pagebreak, anchor',
        imagetools_cors_hosts: ['s3.amazonaws.com'],
        images_upload_handler: fileUploadHandler,
        media_url_resolver: fn_media_url_resolver,
        media_live_embeds: false,
        media_alt_source: false,
        media_poster: false,
        media_dimensions: false,
        file_picker_types: 'file image media', 
        file_picker_callback: function(callback, value, meta) {
          var isMedia = (meta.filetype === "media");
          var input = document.createElement('input');
          input.setAttribute('type', 'file');
          input.setAttribute('accept', '*');
          input.onchange = function() {
            var file = this.files[0];
            window.setTimeout(function() {
              var blobInfo = (function(blob) {
                return {
                  blob: function() {
                    return blob;
                  },
                  filename: function() {
                    return blob.name;
                  },
                  isMedia: function() {
                    return isMedia;
                  }
                }
              })(file);      
              fileUploadHandler(blobInfo, function(blobUrl) {
                callback(blobUrl, { title: file.name, text: file.name });
              }, function(err) {
                alert(err || 'Server error! Please try again');
              });
            }, 100);
          };
          window.setTimeout(function() {
            input.click();
          }, 0);
        },
        toolbar1: 'mergetags | undo redo | insert | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link iframely button record_video image media',
        toolbar2: 'fontselect |  fontsizeselect | removeformat | forecolor backcolor emoticons | codesample help ',
        fontsize_formats: "8pt 10pt 12pt 14pt 18pt 24pt 36pt",
        image_advtab: true,
        resize: false,
        height: 'auto',
        width: '100%',
        visualblocks_default_state: true,
        visual: false,
        content_style: PREVIEW_HTML_CSS,
        urlconverter_callback : 'fn_custom_URL_converter',
        relative_urls : false,
        forced_root_block : false,

        remove_trailing_brs: false,
        extended_valid_elements: "style,a[*]",
        valid_children : "+body[style]",
        setup: function(tiny_editor) {
          fn_resize_tiny_mce(tiny_editor);
          tiny_editor.addButton('mergetags', {
            type: 'menubutton',
            text: 'Merge Tags',
            icon: false,
            menu: [
              {text: 'Recipient First Name', onclick: function() { insertMergeTag(tiny_editor,'*|FIRST_NAME|*');}},
              {text: 'Recipient Last Name', onclick: function() { insertMergeTag(tiny_editor,'*|LAST_NAME|*');}},
              {text: 'Recipient Name', onclick: function() { insertMergeTag(tiny_editor,'*|NAME|*');}},
              {text: 'My Name', onclick: function() { insertMergeTag(tiny_editor,'*|MY_NAME|*');}},
              {text: 'My First Name', onclick: function() { insertMergeTag(tiny_editor,'*|MY_FIRST_NAME|*');}},
              {text: 'My Last Name', onclick: function() { insertMergeTag(tiny_editor,'*|MY_LAST_NAME|*');}},
              {text: 'Day of the Week', onclick: function() { insertMergeTag(tiny_editor,'*|DAY_OF_WEEK|*');}},
              {text: 'Week or Weekend', onclick: function() { insertMergeTag(tiny_editor,'*|WEEK_OR_WEEKEND|*');}},
              {text: 'Current Dime', onclick: function() { insertMergeTag(tiny_editor,'*|CURRENT_TIME|*');}},
              {text: 'Current Date', onclick: function() { insertMergeTag(tiny_editor,'*|CURRENT_DATE|*');}}
              // TODO: {text: 'First Message Archive Link', onclick: function() { insertMergeTag(tiny_editor,'<a href="*|MSG_FIRST_LINK|*">my email</a>');}}
            ],
            onShowMenu: function() {
              var menu = this.menu;
              var menuElement = $(this.menu.$el);
              var menuItemsElement = menuElement.find('.chq-custom-items').empty();
              if (menuItemsElement.length == 0) {
                menuItemsElement = $('<div class="chq-custom-items"></div>')
                  .prependTo(menuElement)
                  .css({
                    "padding-bottom":"5px",
                    "margin-bottom": "5px",
                    "border-bottom": "1px solid #eee"
                  });
                menuItemsElement.on('click', '.chq-custom-item', function() {
                  var tagName = $(this).attr('data-value');
                  if (tagName) {
                    insertMergeTag(tiny_editor, '*|' + tagName + '|*');
                  }
                  menu._parent.hideMenu();
                });
              }
              menuItemsElement.hide();
              var items = self.options.onGetMergeTags() || [];
              if (items && items.length > 0) {
                for(var i = 0; i < items.length; i++) {
                  createMenuItem(items[i]['text'], items[i]['value'])
                    .appendTo(menuItemsElement);
                }
                menuItemsElement.show();
              }
            }
          });
          tiny_editor.on('init', function(e) {
            if (callback) {
              callback.call(this, tiny_editor);
            }
          });
          tiny_editor.on('change', function(e) {

            if (tiny_editor.getContent().match(/base64/)) {
              // wait for image to be saved then save
              tiny_editor.uploadImages(function(success) {
                setHTMLSource(tiny_editor.getContent()); // editor => ace editor
                fn_change_callback();

              });
            } else {

              setHTMLSource(tiny_editor.getContent()); // editor => ace editor
              fn_change_callback();
            }
          });
          tiny_editor.on('Dirty', function (e) {

          });

          tiny_editor.on('SetContent', function (e) {

          });

        }
      });

      return;
    }
    var mce_editor = tinymce.EditorManager.activeEditor;
    mce_editor.show();
    callback.call(this, mce_editor);
  }

  function fn_media_url_resolver (data, resolve/*, reject*/) {
    //if inserted url is of youtube it inserts iframe, instead of that read page using iframely and set html to resolve function
    if (data.url.indexOf('youtube.com/') > -1 || data.url.indexOf('youtu.be/') > -1) {
      setDialogLoader(true, 'Retrieving preview...');
      var y_url = data.url;
      // Youtube url
      var jsonData = JSON.stringify({
        "website_url": y_url
      });

      (function() {
        var xhr = new XMLHttpRequest();
        xhr.open('POST', '/main_gmail_web_clipper/get_iframely_preview', true);
        xhr.setRequestHeader("Content-type", "application/json");
        xhr.responseType = "json";
        xhr.onreadystatechange = function() {
          if(xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200) {
            setDialogLoader(false);
            var json = xhr.response;
            var html = fn_cloudHQ_generate_webclip_html_from_iframely(json, y_url);
            resolve({html: html});
          }
        };
        xhr.send(jsonData);
      })();
    //in case of video is uploaded  
    } else if (data.url && video_url) {
      var embedHtml = '<a href="' + video_url + '" target="_blank" >';
      if (data.url !== video_url) {
        embedHtml += '<img src="' + data.url + '" />'
      } else {
        embedHtml += data.url;
      }
      embedHtml += '</a>';
      video_url = null;
      resolve({html: embedHtml});

    } else {
      resolve({html: ''});
    }
  }

  function fn_paste_preprocess(plugin, args){
    setDialogLoader(true, 'Downloading...');
    var content = args.content.trim();
    if(is_valid_url(content) && (content.indexOf("https://www.youtube.com") > -1 || content.indexOf("https://youtu.be") > -1 )){
      args.content = '<span class="cloudhq_downloading_preview">'+args.content+'</span>';
      var website_url = content;
      var jsonData = JSON.stringify({
        "website_url": website_url
      });
      var xhr = new XMLHttpRequest();
      var url = '/main_gmail_web_clipper/get_iframely_preview';
      xhr.open('POST', url, true);
      xhr.setRequestHeader("Content-type", "application/json");
      xhr.responseType = "json";
      xhr.onreadystatechange = function() {
        if(xhr.readyState == XMLHttpRequest.DONE) {
          setDialogLoader(false);
          if (xhr.status == 200) {
            var json = xhr.response;
            var html = fn_cloudHQ_generate_webclip_html_from_iframely(json, website_url);

            var mce_editor = tinymce.EditorManager.activeEditor;
            
            var selElement = mce_editor.selection.getStart();
            var element = selElement.parent || selElement;
            console.log("element:2", element);
            mce_editor.dom.getParents(mce_editor.selection.getStart(), function (elm) {
              console.log("element:3:elm", elm);
              if($(elm).attr('class') && $(elm).attr('class').indexOf('cloudhq_downloading_preview') > -1){
                console.log("element:4:elm", elm);
                element = elm;
              }
            });

            mce_editor.undoManager.transact(function () {
              mce_editor.focus();
              
              var previewElement = $(element).find('.cloudhq_downloading_preview').first();
              
              if($(previewElement).length === 0 && $(element).attr('class').indexOf('cloudhq_downloading_preview') > -1){
                previewElement = $(element);
              }
              
              $(previewElement).replaceWith(html);
              mce_editor.nodeChanged();
            });

          } else {
            args.content = args.content;
          }
        }
      };
      xhr.send(jsonData);
    }

  }

  function fn_resize_tiny_mce(editor) {

    var editor_container;
    var bars_height = 0;

    function resizeEditor(e) {
      if (typeof(editor_container) === 'undefined') return;

      try {
        var element_height = parseInt(window.getComputedStyle(editor_container).height);
        /*calculate bar height only once*/
        if (bars_height === 0) {
          var toolbars = editor_container.querySelectorAll('.mce-toolbar, .mce-statusbar, .mce-menubar');
          /*IE11 FIX*/
          var toolbarsLength = toolbars.length;
          for (var i = 0; i < toolbarsLength; i++) {
            var toolbar = toolbars[i];
            /*skip sidebar*/
            if (!toolbar.classList.contains('mce-sidebar-toolbar')) {
              var bar_height = parseInt(window.getComputedStyle(toolbar).height);
              bars_height += bar_height;
            }
          }
        }
        /*the extra 8 is for margin added between the toolbars*/
        new_height = element_height - bars_height - 8;
        editor.theme.resizeTo('100%', new_height);
      } catch (err) {
        console.log(err);
      }
    }
    editor.on('ResizeWindow', resizeEditor);
    editor.on("init", function() {
      try {
        editor_container = editor.getContainer().parentNode;
      } catch (e) {
      }
      setTimeout(function() {
        resizeEditor();
      }, 0);
    });
  }

  function fn_run_editor(message) {

    email_draft_html = message.email_draft_html;

    hidden_backup_css = '';

    email_draft_html_el = $('<div></div>').html(email_draft_html);
    email_draft_html_el.find('[name=cloudHQ__backup_css]').each(function() {
      var hidden = $(this);
      hidden_backup_css += ' ';
      hidden_backup_css += $('<div/>').html(hidden.val()).text();
      hidden.remove();
    });
    
    // remove all class mangling Gmail added
    email_draft_html_el.find("[class]").each(function() {
      var class_name = $(this).attr('class');
      if (class_name.match(/m_(\-?)[0-9]+/)) {
        var real_class_name = class_name.replace(/(m_(\-?)[0-9]+)+/,'') 
        $(this).attr("class", real_class_name);
      }
    });

    email_draft_html_el.find('[id]').each(function() {
      var id_name = $(this).attr('id');
      if (id_name.match(/m_(\-?)[0-9]+/)) {
        var real_id_name = id_name.replace(/(m_(\-?)[0-9]+)+/,'') 
        $(this).attr("id", real_id_name);
      }
    })

    email_draft_html = $(email_draft_html_el).html();

    // poplate HTML
    setHTMLSource(email_draft_html);
    showHTMLInIFrame(0);

    // $('#email_draft_html').html(email_draft_html);
    
    // setup end and save
    $('#btn_edit_end').click(function() {
      fn_edit_end(true);
    });

    $('#btn_edit_save').click(function() {
      fn_edit_save();
    });

    $('#btn_preview_desktop').click(function() {
      fn_show_preview('desktop');
    });
    $('#btn_preview_mobile').click(function() {
      fn_show_preview('mobile');
    });

    $('#btn_html_source').click(function() {
      fn_show_ace_editor();
    });
    $('#btn_html_design').click(function() {
      fn_show_tiny_mce_editor();
    });

    // todo: add callback to call save when something is changed - 
    g_dirty = true;
    g_save_interval = null;
    if (g_save_interval) {
      try { window.clearInterval(g_save_interval); } catch(e) {};
    }
    g_save_interval = setInterval(function() { 
      fn_edit_save();
    }, 10000);

    window.setTimeout(function() {
      $('.loading').remove();
      $('.container').css('display', 'flex');
    }, 0);

  }
  var background_port = null;
  var draft_id = null;
  var email_draft_html = null;
  var g_server_url = "https://www.cloudhq.net/";
  var draft_id = "r8418766930632574817";
  var extension_id = "ioinaaeeacahcmbgfmeaaofhfkijpdeb";
  var tidy_options = {
    "indent":"auto",
    "indent-spaces":2,
    "wrap":80,
    "markup":true,
    "output-xml":false,
    "numeric-entities":true,
    "quote-marks":true,
    "quote-nbsp":false,
    "show-body-only":true,
    "quote-ampersand":false,
    "break-before-br":true,
    "uppercase-tags":false,
    "uppercase-attributes":false,
    "drop-font-tags":true,
    "tidy-mark":false
  }
  // this statement defines getUserMedia constraints
  // that will be used to capture content of screen

  if (draft_id) {
    background_port = chrome.runtime.connect(extension_id, {name: draft_id});
    
    console.log('background_port=',background_port);

    background_port.postMessage({action: "edit_start", draft_id: draft_id});

    var hidden_backup_css = '';

    background_port.onMessage.addListener(function(message) {

      console.log('onMessage: message=',message);

      if (message && message.action == 'edit_start') {

        fn_run_editor(message);

      } else if (message && message.action == 'abort') { // abort

        window.close();
      }

    });

    background_port.onDisconnect.addListener(function(background_port) {
      console.log('background_port.onDisconnect: background_port=',background_port);
      window.close();
    });
  } else {

    window.addEventListener('message', function(event) {

      var origin  = event.origin;
      var message = event.data;

      console.log('addEventListener: message=',message);

      if (message && message.action == 'edit_start') {
        fn_run_editor(message);

      } else if (message && message.action == 'abort') { // abort

        window.close();
      }
    });
  }
</script></body></html>